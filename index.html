<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Welcome to the shop</title>
        <script src="js/phaser.min.js"></script>
        <script type="text/javascript" src="js/jquery-2.1.0.min.js"></script>
        <script type="text/javascript" src="models/NPC.js"></script>
        
        <script type="text/javascript" src="js/drawMainScreen.js"></script>
        <script type="text/javascript" src="js/drawShop.js"></script>
        <script type="text/javascript" src="js/drawButtons.js"></script>
        
        <!--Inventory-->
        <script type="text/javascript" src="js/inventory/drawInventory.js"></script>
        <script type="text/javascript" src="js/inventory/accessInventory.js"></script>

        <script type="text/javascript" src="js/drawNPCScreen.js"></script>
        <script type="text/javascript" src="js/drawNPCScreenButtons.js"></script>
        

        
        <script type="text/javascript" src="models/Item.js"></script>
        <script type="text/javascript" src="models/Shop.js"></script>
        <script type="text/javascript" src="models/Resource.js"></script>
        <script type="text/javascript" src="models/Inventory.js"></script>

        <script type="text/javascript" src="controllers/entityManagement.js"></script>
    </head>
    <body>

        <script type="text/javascript">

        var image_path = "assets/images";

        var global_playerShop = new Shop();
        global_playerShop.create();
        var global_npcs = Array();
        var global_entityItems = Array();
        var global_textDisplays = Array();


        var game = new Phaser.Game(800, 600, Phaser.AUTO, 'phaser-example', {preload: preload});
        generateAllResources();

        function preload() {

            game.load.spritesheet('button', 'assets/buttons/newChar.jpg', 70, 120);
            

            game.state.start('MainScreenStateName');
        }

        function create() {

            game.stage.backgroundColor = '#454645';

            var style = { font: "14px Arial", fill: "#ff0044", align: "center" };
            drawMainScreen();
        }

        function update() {
        }

        //var MainScreenState = function(game) { create: create };
        //game.state.add('MainScreenStateThing', MainScreenState);
        var mainScreenState = {
            preload: function() {


            game.load.spritesheet('button', 'assets/buttons/newChar.jpg', 70, 120);
            game.load.spritesheet('MapButton', 'assets/buttons/mapButton.jpg', 70, 120);
            game.load.spritesheet('NPCButton', 'assets/buttons/NPCButton.jpg', 70,120);
            game.load.spritesheet('InventoryButton', 'assets/buttons/InventoryButton.jpg', 70, 120);
        },

            create: function() {
                game.stage.backgroundColor = '#454645';
                var style = { font: "14px Arial", fill: "#ff0044", align: "center" };
                drawMainScreen();
            }
        }
        game.state.add('MainScreenStateName', mainScreenState);

        var inventoryScreenState = {

            preload: function() {
            game.load.spritesheet('image_spritesheet', 'assets/images/items-1.jpg', 64, 64);
            //these should be game.load.image, this is why you had the resizing issue
            game.load.spritesheet('showSkillsButtonImage', 'assets/buttons/showSkillsButtonImage.png', 91, 40);
            game.load.spritesheet('showResourcesButtonImage', 'assets/buttons/showResourcesButtonImage.png', 142, 39);
            game.load.spritesheet('showShopButtonImage', 'assets/buttons/showShopButtonImage.png', 90, 40);
            game.load.spritesheet('showInventoryButtonImage', 'assets/buttons/showInventoryButtonImage.png', 137, 39);
            game.load.spritesheet('showInventoryButtonImage', 'assets/buttons/showInventoryButtonImage.png', 137, 39);
        },
            create: function() {
                game.stage.backgroundColor = '#454645';
                var style = { font: "14px Arial", fill: "#ff0044", align: "center" };
                accessInventory();
            }
        }
        game.state.add('InventoryScreenStateName', inventoryScreenState);

        var mapScreenState = {
            create: function() {
                game.stage.backgroundColor = '#454645';
                var style = { font: "14px Arial", fill: "#ff0044", align: "center" };
                //some function
            }
        }
        game.state.add('MapScreenStateName', mapScreenState);

        var NPCScreenState = {
            create: function() {
                game.stage.backgroundColor = '#454645';
                var style = { font: "14px Arial", fill: "#ff0044", align: "center" };
                drawNPCScreen();
            }
        }
        game.state.add('NPCScreenStateName', NPCScreenState);


        </script>

    </body>
</html>